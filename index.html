<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Opinion Demo ‚Äì Pesquisas em Pontos</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b1220;        /* fundo geral escuro e moderno */
      --card:#0f172a;      /* cart√£o principal */
      --muted:#94a3b8;     /* textos secund√°rios */
      --text:#e2e8f0;      /* textos principais */
      --brand:#22c55e;     /* verde */
      --brand-2:#06b6d4;   /* ciano para detalhes */
      --danger:#ef4444;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;background:radial-gradient(1200px 600px at 80% -10%,rgba(34,197,94,.15),transparent 60%),radial-gradient(900px 500px at -10% 110%,rgba(6,182,212,.12),transparent 60%),var(--bg);color:var(--text)}
    .wrap{min-height:100dvh;display:grid;place-items:center;padding:24px}
    .app{width:100%;max-width:520px;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent),var(--card);border:1px solid rgba(148,163,184,.12);box-shadow:var(--shadow);border-radius:var(--radius);overflow:hidden}
    .demo-banner{background:linear-gradient(90deg,rgba(34,197,94,.12),rgba(6,182,212,.12));color:#eafff3;padding:10px 14px;font-size:12.5px;text-align:center;border-bottom:1px solid rgba(148,163,184,.18)}
    .demo-banner b{color:#bbf7d0}
    header{display:flex;gap:12px;align-items:center;padding:18px}
    .logo{width:40px;height:40px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#001b0e;font-weight:800;letter-spacing:.5px}
    .hgroup{flex:1}
    h1{font-size:18px;margin:0 0 4px 0}
    .sub{font-size:13px;color:var(--muted)}

    .progress{padding:0 18px 14px}
    .bar{height:10px;background:#0b1220;border:1px solid rgba(148,163,184,.18);border-radius:999px;overflow:hidden}
    .bar>i{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--brand),var(--brand-2));transition:width .35s ease}
    .stats{display:flex;justify-content:space-between;align-items:center;margin-top:8px;font-size:12.5px;color:var(--muted)}
    .balance{font-weight:700;color:#d1fae5}

    .card{padding:0 18px 18px}
    .question{background:rgba(148,163,184,.06);border:1px solid rgba(148,163,184,.14);border-radius:14px;padding:16px}
    .qtext{font-size:16px;line-height:1.5;margin:0}
    .choices{display:grid;gap:10px;margin-top:14px}
    .btn{appearance:none;border:none;cursor:pointer;border-radius:12px;padding:12px 14px;background:#0b1220;color:var(--text);text-align:left;font-weight:600;border:1px solid rgba(148,163,184,.18);transition:transform .06s ease, border-color .2s ease, background .2s ease}
    .btn:hover{transform:translateY(-1px);border-color:rgba(34,197,94,.45)}
    .btn:active{transform:translateY(0)}

    .toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%) translateY(30px);background:linear-gradient(90deg,rgba(34,197,94,.18),rgba(6,182,212,.18));border:1px solid rgba(34,197,94,.35);color:#eafff3;padding:10px 14px;border-radius:999px;font-size:14px;opacity:0;pointer-events:none;transition:opacity .25s ease, transform .25s ease}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

    .final{display:none;padding:0 18px 22px}
    .final .box{background:rgba(148,163,184,.06);border:1px solid rgba(148,163,184,.14);border-radius:14px;padding:18px;text-align:center}
    .final h2{margin:0 0 6px 0;font-size:20px}
    .big{font-size:36px;font-weight:800;letter-spacing:.5px;background:linear-gradient(90deg,#fff,#d1fae5);-webkit-background-clip:text;background-clip:text;color:transparent}
    .note{font-size:12.5px;color:var(--muted);margin-top:6px}
    .cta{display:grid;gap:10px;margin-top:16px}
    .cta .link{display:block;text-align:center;text-decoration:none;font-weight:700;border-radius:12px;padding:12px 14px;border:1px solid rgba(148,163,184,.18)}
    .primary{background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#052b16}
    .ghost{background:#0b1220;color:#e2e8f0}

    footer{padding:14px 18px;border-top:1px solid rgba(148,163,184,.12);font-size:11.5px;color:var(--muted);text-align:center}
    footer a{color:#9ae6b4;text-decoration:none}

    @media (max-width:380px){
      h1{font-size:16px}
      .big{font-size:30px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="app" id="app">
      <div class="demo-banner">Este √© um <b>MODO DEMONSTRA√á√ÉO</b> com <b>pontos virtuais</b> (sem valor em dinheiro).</div>

      <header>
        <div class="logo" aria-hidden="true">OB</div>
        <div class="hgroup">
          <h1>Opinion Demo</h1>
          <div class="sub">Responda 10 perguntas r√°pidas e acumule pontos.</div>
        </div>
      </header>

      <div class="progress">
        <div class="bar" aria-label="Progresso da pesquisa"><i id="pg"></i></div>
        <div class="stats">
          <div><span id="stepNow">1</span>/<span id="stepTotal">10</span> perguntas</div>
          <div class="balance">Saldo: <span id="saldo">0</span> pts</div>
        </div>
      </div>

      <main class="card">
        <section class="question" id="qbox">
          <p class="qtext" id="qtext">Carregando...</p>
          <div class="choices" id="choices"></div>
        </section>

        <section class="final" id="final">
          <div class="box">
            <h2>Conclu√≠do! üéâ</h2>
            <div class="big" id="finalScore">0 pts</div>
            <div class="note">Obrigado por participar do modo demonstra√ß√£o. Os pontos s√£o apenas ilustrativos.</div>
            <div class="cta">
              <a class="link primary" id="ctaPrimary" href="#" target="_blank" rel="noopener">Quero receber materiais gratuitos</a>
              <a class="link ghost" id="ctaSecondary" href="#" target="_blank" rel="noopener">Falar no WhatsApp</a>
            </div>
          </div>
        </section>
      </main>

      <footer>
        ¬© <span id="year"></span> Opinion Demo. Pontos virtuais sem valor financeiro. <a href="#" id="policy">Saiba mais</a>
      </footer>
    </div>
  </div>

  <div class="toast" id="toast">+20 pts adicionados</div>

  <script>
    // ====== Configura√ß√µes b√°sicas ======
    const TOTAL = 10;                  // total de perguntas
    const MIN_PTS = 10;               // pontua√ß√£o m√≠nima por resposta
    const MAX_PTS = 40;               // pontua√ß√£o m√°xima por resposta
    const AWARD_MODE = 'random';      // 'random' ou 'fixedSet' (10/20/30/40)

    const QUESTIONS = [
      { t: "Com que frequ√™ncia voc√™ faz compras online?", a: ["Quase todo dia", "1-3 vezes/semana", "1-3 vezes/m√™s", "Raramente"] },
      { t: "Voc√™ utiliza aplicativo de banco digital?", a: ["Sim, √© o principal", "Sim, como secund√°rio", "N√£o uso", "Prefiro ag√™ncia f√≠sica"] },
      { t: "Qual formato de conte√∫do voc√™ mais consome?", a: ["V√≠deos curtos", "Lives", "Artigos/Blogs", "Podcasts"] },
      { t: "Ao escolher um produto, o que pesa mais?", a: ["Pre√ßo", "Avalia√ß√µes", "Marca", "Prazo de entrega"] },
      { t: "Voc√™ costuma usar cupons de desconto?", a: ["Sempre", "√Äs vezes", "Raramente", "Nunca"] },
      { t: "Qual rede social voc√™ usa com mais frequ√™ncia?", a: ["Instagram", "TikTok", "Facebook", "YouTube"] },
      { t: "Voc√™ j√° pagou por um curso online?", a: ["Sim, mais de um", "Sim, um", "N√£o, mas tenho interesse", "N√£o tenho interesse"] },
      { t: "Como voc√™ prefere pagar suas compras?", a: ["Pix", "Cart√£o de cr√©dito", "Boleto", "Carteiras digitais"] },
      { t: "Qual seu principal objetivo financeiro hoje?", a: ["Quitar d√≠vidas", "Investir", "Aumentar renda", "Viajar"] },
      { t: "Com que frequ√™ncia voc√™ avalia produtos que compra?", a: ["Sempre", "√Äs vezes", "Raramente", "Nunca"] },
    ];

    // ====== Estado ======
    let step = 0; // de 0 a 9
    let saldo = 0;

    // ====== Utilidades ======
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => document.querySelectorAll(sel);

    const randInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
    const awardPoints = () => {
      if (AWARD_MODE === 'fixedSet') {
        const set = [10, 20, 30, 40];
        return set[randInt(0, set.length - 1)];
      }
      return randInt(MIN_PTS, MAX_PTS);
    };

    const showToast = (msg) => {
      const el = $('#toast');
      el.textContent = msg;
      el.classList.add('show');
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=> el.classList.remove('show'), 1500);
    };

    const updateProgress = () => {
      const pct = ((step) / TOTAL) * 100; // step vai de 0 a TOTAL
      $('#pg').style.width = pct + '%';
      $('#stepNow').textContent = Math.min(step + 1, TOTAL);
      $('#saldo').textContent = saldo;
    };

    const renderQuestion = () => {
      if (step >= TOTAL) return; // seguran√ßa
      const q = QUESTIONS[step];
      $('#qtext').textContent = q.t;
      const choices = $('#choices');
      choices.innerHTML = '';
      q.a.forEach((opt, i) => {
        const b = document.createElement('button');
        b.className = 'btn';
        b.type = 'button';
        b.textContent = opt;
        b.setAttribute('aria-label', 'Escolher: ' + opt);
        b.addEventListener('click', () => onAnswer(i));
        choices.appendChild(b);
      });
      updateProgress();
    };

    const onAnswer = (idx) => {
      // Atribui pontos independentemente da op√ß√£o, pois √© uma pesquisa (n√£o prova)
      const pts = awardPoints();
      saldo += pts;
      showToast('+' + pts + ' pts adicionados');

      // Avan√ßa
      step++;

      if (step >= TOTAL) {
        finish();
      } else {
        // pequena pausa para feedback
        setTimeout(renderQuestion, 250);
      }
      updateProgress();
    };

    const finish = () => {
      // Atualiza UI final
      $('#finalScore').textContent = saldo + ' pts';
      $('#qbox').style.display = 'none';
      $('#final').style.display = 'block';
      $('#pg').style.width = '100%';
      $('#stepNow').textContent = TOTAL;
      $('#saldo').textContent = saldo;

      // CTAs personaliz√°veis
      // Substitua os links abaixo pelos seus destinos reais
      $('#ctaPrimary').href = 'https://example.com/materiais';
      $('#ctaSecondary').href = 'https://wa.me/5561999999999?text=Oi%2C%20participei%20do%20demo%20de%20pesquisas%20e%20quero%20saber%20mais';
    };

    const init = () => {
      $('#year').textContent = new Date().getFullYear();
      $('#stepTotal').textContent = TOTAL;
      renderQuestion();
    };

    init();
  </script>
</body>
</html>
